{% extends "news/base.html" %}
{% load static %}

{# countries-category.html - safe version #}

{% block title %}
  {% if hero_title %}
    {{ hero_title }} — Pillai's News
  {% elif hero_article %}
    {{ hero_article.title }} — Pillai's News
  {% else %}
    {{ category.name }} — Pillai's News
  {% endif %}
{% endblock %}

{% block content %}
<style>
.country-hero { position:relative; text-align:center; margin-top:40px; }
.country-hero img { width:100%; max-height:420px; object-fit:cover; border-radius:8px; display:block; }
.country-hero .hero-overlay { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); padding:12px; }
.country-hero .hero-title { color:white; font-size:36px; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.6); margin:0; }
.container.category-body { max-width:1000px; margin:36px auto; padding:0 12px; text-align:center; }
.article-list { margin-top:28px; text-align:left; }
.article-card { padding:14px 12px; border-radius:8px; background:#fff; box-shadow:0 6px 18px rgba(0,0,0,0.03); margin-bottom:12px; }
.article-card h3 { margin:0 0 6px; font-size:18px; }
.article-meta { color:#666; font-size:0.9rem; margin-bottom:8px; }
@media (min-width:900px) {
  .country-hero .hero-title { font-size:44px; }
}
</style>

{# HERO: prefer explicit hero_image/hero_title, then hero_article, then fallback #}
<section class="country-hero" aria-label="Hero">
  {% if hero_image %}
    <img src="{{ hero_image }}" alt="{% if hero_title %}{{ hero_title }}{% elif hero_article %}{{ hero_article.title }}{% else %}{{ category.name }}{% endif %}">
  {% elif hero_article and hero_article.image %}
    <img src="{{ hero_article.image.url }}" alt="{{ hero_article.title }}">
  {% else %}
    <img src="{% static 'images/world-banner.jpg' %}" alt="{{ category.name }}">
  {% endif %}

  {% if hero_title %}
    <div class="hero-overlay">
      <h1 class="hero-title">{{ hero_title }}</h1>
    </div>
  {% elif hero_article %}
    <div class="hero-overlay">
      <h1 class="hero-title">{{ hero_article.title }}</h1>
    </div>
  {% else %}
    <div class="hero-overlay">
      <h1 class="hero-title">{{ category.name }}</h1>
    </div>
  {% endif %}
</section>



{% endblock %}
